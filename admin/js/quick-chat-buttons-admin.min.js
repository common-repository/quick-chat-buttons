!function(t){var n={beforeSubmit:function(n,e,a){t(".kl-buttons .primary-button").prop("disabled",!0),t(".kl-buttons .kl-loader").addClass("active"),t(".form-buttons").addClass("form-loading"),t(".gp-modal-content").addClass("form-loading")},success:function(n,e,a,o){t(".gp-loader").removeClass("active"),t(".form-buttons").removeClass("form-loading"),t(".gp-modal-content").removeClass("form-loading"),n=t.parseJSON(n);const c=new SwipeHandler,i=new ToastsHandler(c);1==n.status?(i.createToast({type:"success",icon:"info-circle",message:n.message,duration:5e3}),setTimeout((function(){window.location=n.data.URL}),1e3)):(t(".save-changes").prop("disabled",!1),i.createToast({type:"error",icon:"info-circle",message:n.message,duration:5e3}))}},e="",a=!1,o="";function c(){var n="",o=t(".chat-button-list .channel-button.active").length,c=parseInt(t("input[name='other_settings[button_size]']:checked").val()),s=t("input[name='other_settings[icon_view]']:checked").val(),l=t("input[name='other_settings[button_position]']:checked").val(),h=t("input[name='other_settings[button_position]']:checked").val(),r=t("input[name='other_settings[widget_state]']:checked").val(),d=t("#side_position").val().replace(/(<([^>]+)>)/gi,""),u=t("#bottom_position").val().replace(/(<([^>]+)>)/gi,"");l="left"==l?"left":"right",h="left"==h?"right":"left",t(".qcb-content").removeClass("qcb-"+t(".qcb-content").attr("data-position")).addClass("qcb-"+l),t(".qcb-content").attr("data-position",l),t(".qcb-content").removeClass("qcb-"+t(".qcb-content").attr("data-view")).addClass("qcb-"+s),t(".qcb-content").attr("data-view",s),t(".qcb-main-button .kl-button-text").removeClass("kl-pos-"+t(".kl-button-text").attr("data-tooltip-pos")).addClass("kl-pos-"+h),t(".kl-button-text").attr("data-tooltip-pos",h);var m="left"==l?"right":"left";"horizontal"==s&&(m="top"),t(".qcb-buttons .channel-btn").removeClass("kl-pos-"+t(".kl-tooltip").attr("data-tooltip-pos")).addClass("kl-pos-"+m),t(".kl-tooltip").attr("data-tooltip-pos",m);var p=t("#button_text").val().replace(/(<([^>]+)>)/gi,"");if(t(".qcb-main-button .chat-btn .kl-button-text").text(p),""==p?t(".qcb-main-button .chat-btn .kl-button-text").remove():(t(".qcb-main-button .chat-btn .kl-button-text").remove(),t(".qcb-main-button .chat-btn").append("<div class='kl-button-text kl-pos-"+h+"'data-tooltip-pos='"+h+"'>"+p+"</div>")),t(".chat-button-list .channel-button.active").each((function(n){var e=t.trim(t("#"+t(this).data("button")+"-setting .button-title").val());t(".qcb-content .qcb-buttons .chat-btn ."+t(this).data("button")+"-button .kl-button-text").text(e)})),n+=".qcb-content .qcb-buttons .chat-btn { transition: none; }",n+=".qcb-content .chat-btn { transition: none; }",n+=".kl-main-icon, .kl-close-icon { transition: none; }",t(document).on("change",".icon-position",(function(){if("horizontal"==s){".kl-main-icon, .kl-close-icon { transition: all 0.3s ease-in-out; }",t("#transition_position").remove(),t("head").append("<style id='transition_position'>.qcb-content .chat-btn { transition: all 0.3s ease-in-out; }.kl-main-icon, .kl-close-icon { transition: all 0.3s ease-in-out; }</style>")}})),t(document).on("change","#hide_close_button, .widget-state",(function(){t("#transition_close_button").remove(),t("head").append("<style id='transition_close_button'>.qcb-content .chat-btn { transition: all 0.3s ease-in-out; }.kl-main-icon, .kl-close-icon { transition: all 0.3s ease-in-out; }</style>")})),t(document).on("click",".qcb-main-button a",(function(){t("#transition_click").remove(),t("head").append("<style id='transition_click'>.qcb-content .qcb-buttons .chat-btn { transition: all 0.3s ease-in-out; }.qcb-content .chat-btn { transition: all 0.3s ease-in-out; }.kl-main-icon, .kl-close-icon { transition: all 0.3s ease-in-out; }</style>")})),"open_by_default"==r&&o>1&&t(".qcb-buttons .chat-btn").length>1?t(".qcb-content").addClass("show-icons"):t(".qcb-content").removeClass("show-icons"),"open_by_default"==r&&1==t("#hide_close_button:checked").val()&&t(".qcb-buttons .chat-btn").length>1?(t(".qcb-content").addClass("hide-close-button"),t(".qcb-content .qcb-main-button").hide()):(t(".qcb-content").removeClass("hide-close-button"),t(".qcb-content .qcb-main-button").show()),o){if(o>1){var v=0;t(".chat-button-list .channel-button.active").each((function(n){var e=t("input[name='button_setting["+t(this).data("button")+"][has_desktop]']:checked").val(),o=t("input[name='button_setting["+t(this).data("button")+"][has_mobile]']:checked").val();(1==e&&!a||1==o&&a)&&(v+=1)})),n+=".qcb-content.qcb-vertical .qcb-buttons .chat-btn {transform: scale(0.5) translate(0, "+(c+10)+"px) }",t(".chat-button-list .channel-button.active").each((function(t){n+=".qcb-content.show-icons.qcb-vertical .qcb-buttons .chat-btn:nth-child("+(t+1)+") { transform: scale(1) translate(0, -"+(c+10)*(v---1)+"px)}"}));var g=0;t(".chat-button-list .channel-button.active").each((function(n){var e=t("input[name='button_setting["+t(this).data("button")+"][has_desktop]']:checked").val(),o=t("input[name='button_setting["+t(this).data("button")+"][has_mobile]']:checked").val();(1==e&&!a||1==o&&a)&&(g+=1)})),"horizontal"==s&&(n+=".qcb-content.qcb-"+s+" .qcb-buttons .chat-btn {transform: scale(0.5) translate(0, "+2*c+"px) }",t(".chat-button-list .channel-button.active").each((function(t){n+="left"==l?".qcb-content.qcb-"+s+".show-icons .qcb-buttons .chat-btn:nth-child("+(t+1)+") { transform: scale(1) translate("+((c+10)*(1+g--)-(c+10))+"px, "+(c+10)+"px)}":".qcb-content.qcb-"+s+".show-icons .qcb-buttons .chat-btn:nth-child("+(t+1)+") { transform: scale(1) translate(-"+((c+10)*(1+g--)-(c+10))+"px, "+(c+10)+"px)}"})))}n+=".qcb-content {bottom: "+u+"px; }",n+=".qcb-content.qcb-left {left: "+d+"px; }",n+=".qcb-content.qcb-right {right: "+d+"px; }";var f=parseInt(2*c/9);n+=".qcb-content .chat-btn {width: "+(c+10)+"px; height: "+(c+10)+"px;}",n+=".qcb-content .channel-btn {width: "+c+"px; height: "+c+"px;}",n+=".qcb-content .channel-btn {padding: "+f+"px;}";parseInt(c/10);var k=c+10-2*f;n+=".qcb-content .kl-main-icon, .qcb-content .kl-close-icon {width: "+k+"px; height: "+k+"px; }",n+=".qcb-content .qcb-main-button .chat-btn {width: "+(c+20)+"px; height: "+(c+20)+"px;}",n+=".qcb-content .qcb-main-button .channel-btn {width: "+(c+10)+"px; height: "+(c+10)+"px;}",n+=".qcb-content.show-icons .qcb-main-button .channel-btn {width: "+c+"px; height: "+c+"px;}",n+=".qcb-content.show-icons .kl-main-icon, .qcb-content.show-icons .kl-close-icon {width: "+(k-10)+"px; height: "+(k-10)+"px; }",n+=".qcb-content .kl-pending-message {background-color: "+t("#message_bg_color").val()+"; border-color: "+t("#message_border_color").val()+"; color: "+t("#message_text_color").val()+"}";var q=20*c/54;n+=".qcb-content .kl-pending-message {width: "+20*c/54+"px !important; height: "+q+"px !important; line-height: "+q/2+"px; font-size: "+(parseInt(q/4)+4)+"px;}";var _=t("input[name='other_settings[button_back_color]']").val(),w=t("input[name='other_settings[button_font_color]']").val();n+=".qcb-content .qcb-main-button .chat-btn a{background-color:"+_+";}",n+=".qcb-content:not(.has-single-button) .qcb-main-button .chat-btn a svg path{fill:"+w+" !important;}";v=0;t(".chat-button-list .channel-button.active").each((function(n){var e=t("input[name='button_setting["+t(this).data("button")+"][has_desktop]']:checked").val(),o=t("input[name='button_setting["+t(this).data("button")+"][has_mobile]']:checked").val();(1==e&&!a||1==o&&a)&&(v+=1)})),t(".chat-button-list .channel-button.active").each((function(t){n+="left"==l?".qcb-content.qcb-vertical.show-icons.hide-close-button .qcb-buttons .chat-btn:nth-child("+(t+1)+") { transform: scale(1) translate(0, -"+(c+10)*(v---1)+"px)}":".qcb-content.qcb-vertical.show-icons.hide-close-button .qcb-buttons .chat-btn:nth-child("+(t+1)+") { transform: scale(1) translate(-"+(c+10)+"px, -"+(c+10)*(v---1)+"px)}"}));g=0;t(".chat-button-list .channel-button.active").each((function(n){var e=t("input[name='button_setting["+t(this).data("button")+"][has_desktop]']:checked").val(),o=t("input[name='button_setting["+t(this).data("button")+"][has_mobile]']:checked").val();(1==e&&!a||1==o&&a)&&(g+=1)})),t(".chat-button-list .channel-button.active").each((function(t){n+="left"==l?".qcb-content.qcb-horizontal.show-icons.hide-close-button .qcb-buttons .chat-btn:nth-child("+(t+1)+") { transform: scale(1) translate("+(c+10)*(g---1)+"px, 0)}":".qcb-content.qcb-horizontal.show-icons.hide-close-button .qcb-buttons .chat-btn:nth-child("+(t+1)+") { transform: scale(1) translate(-"+((c+10)*(1+g--)-(c+10))+"px, 0)}"}))}t("#button-css").length||t("head").append("<style id='button-css'></style>"),t("#button-css").html(n),b();var x=t("#no_of_messages").val().replace(/(<([^>]+)>)/gi,"");t(".kl-pending-message").remove(),(1==(o=t(".chat-button-list .channel-button.active").length)||o>1&&"click_to_open"==r||o>1&&"hover_to_open"==r)&&""!=x&&t("#has_pending_message").is(":checked")&&(t(".qcb-content.has-single-button .qcb-main-button .chat-btn a.channel-btn, .qcb-content .qcb-main-button .chat-btn a.channel-btn").append("<span class='kl-pending-message'>"+x+"</span>"),e=0,t(".kl-pending-message").each((function(){e=(e=e<t(this).width()?t(this).width():10)<t(this).height()?t(this).height():10})),t(".kl-pending-message").width(e).height(e));var C=t(".cta-icon-"+t("input[name='other_settings[cta_icon]']:checked").val()).html();t(".qcb-content .qcb-main-button .kl-main-icon").html(C),i()}function i(){var n=t("input[name='other_settings[widget_state]']:checked").val();if(t(".qcb-content").hasClass("show-icons"))t(".qcb-content.show-icons .qcb-main-button .chat-btn a").removeClass(t(".btn-attention-effect").val());else if("open_by_default"!=n){var e=t(".qcb-content:not(.show-icons) .qcb-main-button .chat-btn a").attr("data-effect");t(".qcb-content:not(.show-icons) .qcb-main-button .chat-btn a").removeClass(e).addClass(t(".btn-attention-effect").val()).attr("data-effect",t(".btn-attention-effect").val())}}function s(){var n=t("input[name='other_settings[widget_state]']:checked").val(),e=t(".chat-button-list .channel-button.active").length;"open_by_default"==n&&e>1&&t(".qcb-buttons .chat-btn").length>1&&t(".qcb-content").addClass("show-icons")}function l(){var n="";if(t(".chat-button-list .channel-button.active").length){var e=t(".chat-button-list .channel-button.active").length,o=t("input[name='other_settings[button_position]']:checked").val(),c=t("input[name='other_settings[button_position]']:checked").val(),i=(t("input[name='other_settings[widget_state]']:checked").val(),t("input[name='other_settings[icon_view]']:checked").val()),s=t(".cta-icon-"+t("input[name='other_settings[cta_icon]']:checked").val()).html(),l=(t(".btn-attention-effect").val(),t("#button_text").val().replace(/(<([^>]+)>)/gi,""));if(c="left"==c?"left":"right",o="left"==o?"right":"left",1==e){var h=t("input[name='button_setting["+t(".channel-button.active").data("button")+"][has_desktop]']:checked").val(),r=t("input[name='button_setting["+t(".channel-button.active").data("button")+"][has_mobile]']:checked").val();if(1==h&&!a||1==r&&a){var d="<div class='qcb-main-button'>";d+="<div class='chat-btn'>",""!=t.trim(l)&&(d+="<div class='kl-button-text kl-pos-"+o+"' data-tooltip-pos='"+o+"'>"+l+"</div>"),d+="<a href='javascript:;' class='channel-btn active "+t(".channel-button.active").data("button")+"-button'>",d+=t(".channel-button.active .button-icon").html(),d+="</a>",d+="</div>",n="<div class='qcb-content has-single-button qcb-"+c+"' data-position='"+c+"'>",n+=d+="</div>",n+="</div>"}}else{d="<div class='qcb-main-button'>";d+="<div class='chat-btn'>",""!=t.trim(l)&&(d+="<div class='kl-button-text kl-pos-"+o+"' data-tooltip-pos='"+o+"'>"+l+"</div>"),d+="<a href='javascript:;' class='channel-btn active'>",d+="<span class='kl-main-icon'>",d+=s,d+="</span>",d+="<span class='kl-close-icon'>",d+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M18.83 16l8.6-8.6a2 2 0 0 0-2.83-2.83l-8.6 8.6L7.4 4.6a2 2 0 0 0-2.82 2.82l8.58 8.6-8.58 8.6a2 2 0 1 0 2.83 2.83l8.58-8.6 8.6 8.6a2 2 0 0 0 2.83-2.83z"></path></svg>',d+="</span>",d+="</a>",d+="</div>",d+="</div>";var u="";"horizontal"==i&&(o="top"),t(".chat-button-list .channel-button.active").each((function(n){var e=t("input[name='button_setting["+t(this).data("button")+"][has_desktop]']:checked").val(),c=t("input[name='button_setting["+t(this).data("button")+"][has_mobile]']:checked").val();if(1==e&&!a||1==c&&a){u+="<div class='chat-btn'>",u+="<a href='javascript:;' class='channel-btn kl-tooltip kl-pos-"+o+" active "+t(this).data("button")+"-button' data-tooltip-pos='"+o+"'>";var i=t.trim(t("#"+t(this).data("button")+"-setting .button-title").val().replace(/(<([^>]+)>)/gi,""));""!=i&&(u+="<span class='kl-button-text'>"+i+"</span>"),u+=t(this).find(".button-icon").html(),u+="</a>",u+="</div>"}})),t(".kl-dashboard-right").html(""),n="<div class='qcb-content qcb-"+c+" qcb-"+i+"' data-position='"+c+"' data-view='"+i+"'>",n+="<div class='qcb-buttons'>",n+=u,n+="</div>",n+=d,n+="</div>",n+="<style id='button_css'>",n+=".qcb-main-button .chat-btn a{background-color:"+t("input[name='other_settings[button_back_color]']").val()+"}",n+="</style>"}}t(".kl-dashboard-right").html(n),1==t(".qcb-buttons .chat-btn").length&&(t(".qcb-content").addClass("has-single-button"),t(".qcb-main-button .chat-btn").remove(),t(".qcb-main-button").prepend(t(".qcb-buttons").html()),t(".qcb-buttons .chat-btn").hide()),0==t(".qcb-buttons .chat-btn").length&&t(".chat-button-list .channel-button.active").length>1&&t(".qcb-content").remove(),b()}function b(){var n=t("#adminmenuback").width(),e=t("#side_position").val().replace(/(<([^>]+)>)/gi,"");t("body.rtl .qcb-content").css("style",""),t("body:not(.rtl)").find(".qcb-content").attr("style",""),""!=e?(t("body.rtl .qcb-right").css("right",n+parseInt(e)),t("body:not(.rtl)").find(".qcb-left").css("left",n+parseInt(e))):(t("body.rtl .qcb-right").css("right",n),t("body:not(.rtl)").find(".qcb-left").css("left",n))}t(document).ready((function(){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(a=!0),t(document).on("click",".remove-channel-button",(function(n){n.preventDefault(),t(this).closest(".kl-modal").removeClass("active");var e=t(this).closest(".kl-modal").data("button");t("."+e+"-button").removeClass("active"),t("input[name='button_setting["+e+"][status]']").val("0"),l(),s(),c()})),t(document).on("click",".add-channel-button",(function(n){n.preventDefault();var e=0;t(this).closest(".kl-modal").find(".has-input-error").removeClass("has-input-error"),t(this).closest(".kl-modal").find(".kl-required").each((function(){""==t(this).val()&&(t(this).closest(".kl-field").addClass("has-input-error"),e++)})),0==e&&(t(this).closest(".kl-modal").removeClass("active"),l(),s(),c())})),t(document).on("click",".chat-button-list a",(function(n){n.stopPropagation(),t(this).addClass("active");var e=t(this).data("button");t("#"+e+"-setting").addClass("active"),t("input[name='button_setting["+e+"][status]']").val("1"),t(".qcb-content").remove()})),t(document).on("click",".qcb-content:not(.has-single-button) .qcb-main-button a",(function(n){n.preventDefault(),t(this).closest(".qcb-content").toggleClass("show-icons")})),t(document).on("keyup",".kl-input",(function(){c()})),t(document).on("submit","#qc_buttons_setting_form",(function(){var e=0;return t(this).find(".has-error").removeClass("has-error"),t(this).find(".is-required").each((function(){""==t.trim(t(this).val())&&(t(this).addClass("has-error"),e++)})),t(this).find(".select-required").each((function(){""==t.trim(t(this).val())&&(t(this).addClass("has-error"),e++)})),0==e?t(this).ajaxSubmit(n):t(this).find(".has-error:first").focus(),!1})),t(document).on("keyup",".only-numeric",(function(){o=/^[0-9]+$/;var n=t(this).val();n.match(o)||t(this).val(n.replace(/\D/g,""))})),t(".color-picker").minicolors({opacity:!0,format:"rgb",change:function(n){t(this).closest(".kl-field").find(".color_val").val(n),c()}}),t(document).on("click","#collapse-menu",(function(){c()})),t(document).on("change",".kl-inner-box",(function(){c()})),t(window).resize((function(){c()})),t(document).on("click","#has_pending_message",(function(){t(this).is(":checked")?t(".pending-message-box").addClass("active"):t(".pending-message-box").removeClass("active")})),t(document).on("mouseenter",".qcb-content",(function(){var n=t("input[name='other_settings[widget_state]']:checked").val();t(".chat-button-list .channel-button.active").length;"hover_to_open"==n&&!a&&t(".qcb-buttons .chat-btn").length>1&&t(this).addClass("show-icons"),i()})),t(document).on("click",".widget-state",(function(){"open_by_default"==t(this).val()?t(".widget-state-box").addClass("active"):t(".widget-state-box").removeClass("active")})),t(".sumoselect").SumoSelect(),l(),c(),t(document).on("click",".qcb-content .qcb-main-button a",(function(){i()})),t(document).on("click","#after_few_seconds",(function(){t(this).is(":checked")?t(".after-seconds-box").addClass("active"):t(".after-seconds-box").removeClass("active")})),t(document).on("click","#after_page_scroll",(function(){t(this).is(":checked")?t(".after-page-scroll-box").addClass("active"):t(".after-page-scroll-box").removeClass("active")})),t(document).on("click","#widget_status",(function(){t(this).is(":checked")?(t(".trigger-box").addClass("active"),t(".warning-message").removeClass("active")):(t(".trigger-box").removeClass("active"),t(".warning-message").addClass("active"))}))}))}(jQuery);